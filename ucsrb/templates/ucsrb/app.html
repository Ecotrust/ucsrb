{% extends "base.html" %}
{% load static %}

{% block site_style %}
    {{ block.super }}
    <link rel="stylesheet" href="{% static 'ucsrb/css/ol.css' %}" media="screen,projection"/>
    <link rel="stylesheet" href="{% static 'ucsrb/lib/ol-layerswitcher/src/ol-layerswitcher.css' %}"/>
    <link rel="stylesheet" href="{% static 'ucsrb/css/app.css' %}"/>
    <link rel="stylesheet" href="{% static 'ucsrb/css/_40-app.css' %}"/>
    <link rel="stylesheet" href="{% static 'ucsrb/css/_64-app.css' %}"/>
    <link rel="stylesheet" href="{% static 'ucsrb/css/_90-app.css' %}"/>

    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/3.0.1/css/font-awesome.min.css">

    <link rel="stylesheet" href="{% static 'visualize/css/ol4_settings.css' %}" type="text/css">
    <link rel="stylesheet" href="{% static 'visualize/css/map_popup.css' %}" type="text/css">
    <link rel="stylesheet" href="{% static 'scenarios/css/scenarios_form.css' %}" type="text/css">
{% endblock site_style %}

{% block js_head %}
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    {# <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.7.0/underscore-min.js"></script> #}
{% endblock js_head %}

{% block content %}
<section class="map-wrap">
    <div class="overlay">
        <div class="instructions d-flex justify-content-center">
            <h2 class="mx-auto w-50 text-center">Start by deciding how you want to interact with the map.</h2>
            <div class="d-flex hvh">&nbsp;</div>
            <div id="instruction" class="d-flex align-self-center justify-content-center"></div>
        </div>
    </div>
    <div id="map"></div>
    <div id="popup" class="ol-popup">
      <a href="#" id="popup-closer" class="ol-popup-closer"></a>
      <div id="popup-content"></div>
    </div>
    <div id="panel" class="panel">
        <div class='panel_inner'>
          <div id='scenarios'></div>
          <div id='scenario_form'></div>
        </div>
    </div>
</section>
{% endblock %}

{% block footer_wrap %}{% endblock %}

{% block extra_js %}
    {{ block.super }}
    <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=requestAnimationFrame,Element.prototype.classList,URL"></script>
    <script src="https://openlayers.org/en/v4.6.4/examples/resources/mapbox-streets-v6-style.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/2.1.0/knockout-min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout.mapping/2.3.2/knockout.mapping.js"></script>
    <script src="{% static 'js/knockout-bindings.js' %}"></script>

    <script src="{% static 'ucsrb/js/ol.js' %}"></script>
    <script src="{% static 'ucsrb/lib/ol-layerswitcher/dist/ol-layerswitcher.js' %}"></script>
    <script src="{% static 'ucsrb/js/app.js' %}"></script>

    <script src="{% static 'visualize/js/' %}{{ MAP_TECH }}_settings.js"></script>
    <script src="{% static 'scenarios/js/' %}{{ MAP_TECH }}_settings.js"></script>

    <script src="{% static 'ucsrb/js/state.js' %}"></script>

    <script>
      app.mapbox = {
          key: '{{ MAPBOX_TOKEN }}'
      };
    </script>
    <script src="{% static 'ucsrb/js/map.js' %}"></script>
    <script src="{% static 'ucsrb/js/app.events.js' %}"></script>
    <script src="{% static 'ucsrb/js/results.js' %}"></script>

    <script src="{% static 'scenarios/js/models.js' %}"></script>
    <script src="{% static 'ucsrb/js/scenarios.js' %}"></script>
{% endblock extra_js %}
